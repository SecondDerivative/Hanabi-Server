function init(){LogInState={type:"Player",InputNick:null,InputPassword:null,SubmitButton:null,Form:null,P:null};PickTableState={CreateButton:null,JoinButton:null,Type:"Create"};PrepState={OldPlayersList:[],PlayersList:null,OldSeats:[],Seats:[],IsAdmin:!1,GameTypeP:null};GameState={StoryLen:0,DropLen:0,ScroeP:null,FallsP:null,HintsP:null,History:null,Drops:null,Table:[],OldTable:[],OldCards:[],YouSeat:0,PlayersNick:[],PlayersCards:[],EndGameButton:null,DialogType:"None",DialogButtons:null,Descriprion:null,DialogPlayer:-1,CardsInDeck:null,EndGameP:null};info=null;MainDiv=document.getElementById("main");PlayerPassword="";PlayerId=-1;TableName="";PlayerNick="";TableId=-1;TablePassword="";NowState="LogIn";BuildLogIn("Player");tim=null;GetStringSuit=["violet","red","blue","orange","green","rainbow"];GameTypeString=["Five color","With rainbow","Rainbow is every"]}function UpDateCallBack(n){var t;t=n.IdTable==-1?"PickTable":n.Table.GameStarted?"Game":"Prepare";info=n;t!=NowState?(NowState=t,NowState=="PickTable"?BuildPickTable():NowState=="Prepare"?BuildPrepare():BuildGame()):NowState=="Prepare"?UpDatePrepare():NowState=="Game"&&UpDateGame()}function UpDate(){$.get("../api/GetInfo",{idPlayer:PlayerId,PlayerPassword:PlayerPassword},UpDateCallBack)}function LogInCallBack(n){n==-1?(LogInState.Form.setAttribute("class","Center has-error"),LogInState.P.setAttribute("style","")):(LogInState.type=="Player"?(PlayerId=n,PlayerPassword=LogInState.InputPassword.value,PlayerNick=LogInState.InputNick.value):(TableId=n,TablePassword=LogInState.InputPassword.innerText,TableName=LogInState.InputNick.value),tim=setInterval(UpDate,1e3),UpDate())}function LogInEvent(){LogInState.type=="Player"?$.post("../api/LogIn",{Nick:LogInState.InputNick.value,Password:LogInState.InputPassword.value},LogInCallBack,"json"):PickTableState.Type=="Create"?$.post("../api/CreateTable",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,TableName:LogInState.InputNick.value,TablePassword:LogInState.InputPassword.value},LogInCallBack,"json"):$.post("../api/JoinTable",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,TableName:LogInState.InputNick.value,TablePassword:LogInState.InputPassword.value},LogInCallBack,"json")}function CreateTableEvent(){PickTableState.Type="Create";NowState="LogIn";LogInState.type="Table";BuildLogIn("Table");clearInterval(tim)}function JoinTableEvent(){PickTableState.Type="Join";NowState="LogIn";LogInState.type="Table";BuildLogIn("Table");clearInterval(tim)}function BackEvent(){NowState="PickTable";BuildPickTable();tim=setInterval(UpDate,1e3)}function EndGameEvent(){$.post("../api/EndGame",{idPlayer:PlayerId,PlayerPassword:PlayerPassword},function(){},"json")}function PickHintEvent(){BuildPickPlayerForHint()}function PickDropEvent(){BuildPickCard(!1)}function PickLayEvent(){BuildPickCard(!0)}function PickPlayerEvent(n){GameState.DialogPlayer=n;BuildPickTypeHint()}function DialogBackEvent(){GameState.DialogType=="Player"||GameState.DialogType=="Card"?BuildPickTurn():GameState.DialogType=="Type"?BuildPickPlayerForHint():(GameState.DialogType=="Color"||GameState.DialogType=="Number")&&BuildPickTypeHint()}function PickColorEvent(){BuildColorHint()}function PickNumberEvent(){BuildNumberHint()}function GetHintColorEvent(n){$.post("../api/HintColor",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,numPlayer:GameState.DialogPlayer,numColor:n},function(){},"json")}function GetHintNumberEvent(n){$.post("../api/HintNumber",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,numPlayer:GameState.DialogPlayer,Number:n},function(){},"json")}function LayCardEvent(n){$.post("../api/PlaceCard",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,numCard:n},function(){},"json")}function DropCardEvent(n){$.post("../api/DropCard",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,numCard:n},function(){},"json")}function ChangeGameModeEvent(n){$.post("../api/ChangeGameType",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,newGameType:n},function(){},"json")}function ChangeSeatsEvent(n){$.post("../api/ChangeSeatsCount",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,SeatsCount:n},function(){},"json")}function StartGameEvent(){$.post("../api/StartGame",{idPlayer:PlayerId,PlayerPassword:PlayerPassword},function(){},"json")}function KickEvent(n){$.post("../api/KickPlayer",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,idKicksPlayer:n},function(){},"json")}function SitDownEvent(n){$.post("../api/SitDown",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,numSeat:n},function(){},"json")}function StandUpEvent(){$.post("../api/StandUp",{idPlayer:PlayerId,PlayerPassword:PlayerPassword},function(){},"json")}function ForceUpEvent(n){$.post("../api/ForceStandUp",{idPlayer:PlayerId,PlayerPassword:PlayerPassword,idStandingPlayer:n},function(){},"json")}function LeaveEvent(){$.post("../api/LeaveTable",{idPlayer:PlayerId,PlayerPassword:PlayerPassword},function(){},"json")}function UpDatePlayersList(){var u=!1,o=PrepState.OldPlayersList,i=Object.keys(info.Table.Players),n,t;if(o.length!=i.length)u=!0;else for(n=0;n<i.length;++n)u=u||o[n]!=info.Table.Players[i[n]];if(u)for(PrepState.PlayersList.innerHTML="",PrepState.OldPlayersList=[],n=0;n<i.length;++n){var r=info.Table.Players[i[n]],f=document.createElement("div"),e=CreateElementP(info.NickById[r]);PrepState.IsAdmin||r!=info.Table.IdAdmin||(e.innerText+="[ADMIN]");e.setAttribute("style","display:inline-block; font-size:2.5rem; margin-right: 7px;");f.appendChild(e);PrepState.IsAdmin&&r!=PlayerId&&(t=document.createElement("button"),t.setAttribute("type","button"),t.setAttribute("class","btn btn-danger"),t.innerText="Kick",t.onclick=CreateNiceFun(KickEvent,r),f.appendChild(t));PrepState.PlayersList.appendChild(f);PrepState.OldPlayersList[n]=r}}function UpDateSeats(){var i=info.Table.Seats,e=PrepState.OldSeats,r,o,n;if(i.length!=e.length){for(r=document.getElementById("Pl1"),r.innerHTML="",o=MyDiv(i.length+1,2),n=0;n<o;n++)r.appendChild(BuildSeats(n));for(r=document.getElementById("Pl2"),r.innerHTML="",n=o;n<i.length;n++)r.appendChild(BuildSeats(n));for(PrepState.OldSeats=[],n=0;n<i.length;++n)PrepState.OldSeats[n]=-1;e=PrepState.OldSeats}for(n=0;n<i.length;++n)if(i[n]!=e[n]){var f=PrepState.Seats[n].children[0],s=PrepState.Seats[n].children[1],t=s.children[0],u=i[n];u==-1?(f.innerText="Empty",t.innerText="Sit down",t.setAttribute("style",""),t.onclick=CreateNiceFun(SitDownEvent,n)):u==PlayerId?(f.innerText=info.NickById[PlayerId],t.innerText="Stand up",t.setAttribute("style",""),t.onclick=StandUpEvent):PrepState.IsAdmin?(f.innerText=info.NickById[u],t.innerText="Leave",t.setAttribute("style",""),t.onclick=CreateNiceFun(ForceUpEvent,u)):(f.innerText=info.NickById[u],t.setAttribute("style","display:none;"));PrepState.OldSeats[n]=u}}function UpDatePrepare(){UpDateSeats();UpDatePlayersList();PrepState.GameTypeP.innerText=GameTypeString[info.Table.CurrentGameType]}function UpDateStory(){while(info.Table.Game.Story.length>GameState.StoryLen){var n=info.Table.Game.Story[GameState.StoryLen],t=document.createElement("p");n.Type==0&&(t.innerText=info.NickById[info.Table.Seats[n.PlayerFrom]]+" hinted "+info.NickById[info.Table.Seats[n.PlayerTo]]+"'s "+GetStringSuit[n.Color],t.appendChild(GetSuit(n.Color)),t.innerHTML+=" cards",t.setAttribute("class","text-success"));n.Type==1&&(t.innerText=info.NickById[info.Table.Seats[n.PlayerFrom]]+" hinted "+info.NickById[info.Table.Seats[n.PlayerTo]]+"'s "+n.Number+" cards",t.setAttribute("class","text-success"));n.Type==2&&(t.innerText=info.NickById[info.Table.Seats[n.PlayerFrom]]+" lay "+n.Number,t.appendChild(GetSuit(n.Color)),t.innerHTML+=" on the table",t.setAttribute("class","text-primary"));n.Type==3&&(t.innerText=info.NickById[info.Table.Seats[n.PlayerFrom]]+" falled by "+n.Number,t.appendChild(GetSuit(n.Color)),t.setAttribute("class","text-danger"));n.Type==4&&(t.innerText=info.NickById[info.Table.Seats[n.PlayerFrom]]+" droped "+n.Number,t.appendChild(GetSuit(n.Color)),t.setAttribute("class","text-warning"));GameState.History.appendChild(t);GameState.StoryLen+=1}}function UpDateDrop(){while(info.Table.Game.DropsCards.length>GameState.DropLen){var n=info.Table.Game.DropsCards[GameState.DropLen];AddToDrop(n.Color,n.Number);GameState.DropLen+=1}}function UpDateTable(){var n;if(GameState.OldTable.length!=GameState.Table.length)for(OldTable=[],n=0;n<GameState.Table.length;++n)GameState.OldTable[n]=-1;for(n=0;n<GameState.Table.length;n++)if(GameState.OldTable[n]!=GameState.Table){var i=GameState.Table[n],r=info.Table.Game.Table[n],t=GetCard(n,r);r==0&&t.setAttribute("class",t.getAttribute("class")+" DisActive");r==5&&t.setAttribute("class",t.getAttribute("class")+" Win");i.removeChild(i.children[0]);i.appendChild(t);GameState.OldTable[n]=GameState.Table[n]}}function UpDatePlayer(n){var i=info.Table.Game.Players[n].Cards,t,e,r,u;if(GameState.OldCards[n].length!=i.length){for(GameState.OldCards[n]=[],t=0;t<i.length;++t)GameState.OldCards[n][t]={Color:-2};for(t=i.length;t<5;++t)GameState.PlayersCards[n].children[t].setAttribute("stye","display:none;")}for(t=0;t<i.length;++t)if(e=GameState.OldCards[n][t],r=i[t].Color,r==-1&&i[t].KnowColor!=-1&&(r=i[t].KnowColor),u=i[t].Number,u==-1&&i[t].KnowNumber!=-1&&(u=i[t].KnowNumber),(r!=e.Color||u!=e.Number)&&(GameState.PlayersCards[n].replaceChild(GetCard(r,u),GameState.PlayersCards[n].children[t]),GameState.OldCards[n][t]={Color:r,Number:u,KnowColor:-1,KnowNumber:-1},e=GameState.OldCards[n][t]),i[t].KnowColor!=e.KnowColor||i[t].KnowNumber!=e.KnowNumber){var o=i[t].KnowColor,s=i[t].KnowNumber,f=GetCard(r,u);o!=-1&&s==-1&&f.setAttribute("class",f.getAttribute("class")+" Color");o==-1&&s!=-1&&f.setAttribute("class",f.getAttribute("class")+" Numb");o!=-1&&s!=-1&&f.setAttribute("class",f.getAttribute("class")+" NumbColor");GameState.PlayersCards[n].replaceChild(f,GameState.PlayersCards[n].children[t]);GameState.OldCards[n][t].KnowNumber=s;GameState.OldCards[n][t].KnowColor=o}info.Table.Game.CurrentPlayer==n?GameState.PlayersNick[n].setAttribute("class","Name Active"):GameState.PlayersNick[n].setAttribute("class","Name")}function UpDateDialog(){GameState.YouSeat!=info.Table.Game.CurrentPlayer||GameState.DialogType!="None"||info.Table.Game.GameIsEnd?GameState.YouSeat!=info.Table.Game.CurrentPlayer&&GameState.DialogType!="None"&&(GameState.Descriprion.innerText="",GameState.DialogButtons.innerHTML="",GameState.DialogType="None"):BuildPickTurn()}function UpDateGame(){UpDateStory();UpDateDrop();UpDateTable();GameState.FallsP.innerText=info.Table.Game.CountFall;GameState.HintsP.innerText=info.Table.Game.CountHints;GameState.ScroeP.innerText=info.Table.Game.Result;GameState.CardsInDeck.innerText=info.Table.Game.CardsInDeck;GameState.EndGameP.innerText=info.Table.Game.GameIsEnd?"Game was ended":info.Table.Game.CardsInDeck==0?"Last circle!":info.Table.Game.CardsInDeck<5?"Last circle is coming":"";for(var n=0;n<info.Table.Seats.length;++n)UpDatePlayer(n);UpDateDialog()}function BuildSeats(n){var t=document.createElement("td"),u=CreateElementP("Empty"),i,r;return u.setAttribute("class","Name"),t.appendChild(u),i=document.createElement("div"),r=CreateButton("Sit down"),r.setAttribute("class","btn btn-primary"),r.onclick=CreateNiceFun(SitDownEvent,n),i.appendChild(r),i.setAttribute("style","width:100%;"),t.appendChild(i),PrepState.Seats[n]=t,t}function BuildPickCard(n){var r,t,i,e;GameState.Descriprion.innerText=n?"Pick card for lay":"Pick card for drop";r=document.createElement("div");r.setAttribute("class","btn-group-gorizontal");var s=["oldest","old","middle","new","newest"],u=0,o=info.Table.Game.Players[GameState.YouSeat].Cards.length,f=info.Table.Game.Players[GameState.YouSeat].Cards;for(t=0;t<o;t++)i=CreateButton(s[u]),i.innerText+=f[t].KnowNumber==-1?"?":f[t].KnowNumber,i.appendChild(GetSuit(f[t].KnowColor)),i.onclick=n?CreateNiceFun(LayCardEvent,t):CreateNiceFun(DropCardEvent,t),r.appendChild(i),u++,u==2&&o!=5&&++u;GameState.DialogButtons.innerHTML="";GameState.DialogButtons.appendChild(r);e=CreateButton("Back");e.onclick=DialogBackEvent;GameState.DialogButtons.appendChild(e);GameState.DialogType="Card"}function BuildNumberHint(){var t,n,i,r;for(GameState.Descriprion.innerText="Pick number for "+info.NickById[info.Table.Seats[GameState.DialogPlayer]],t=document.createElement("div"),t.setAttribute("class","btn-group-gorizontal"),n=1;n<=5;n++)i=CreateButton(n),i.onclick=CreateNiceFun(GetHintNumberEvent,n),t.appendChild(i);GameState.DialogButtons.innerHTML="";GameState.DialogButtons.appendChild(t);r=CreateButton("Back");r.onclick=DialogBackEvent;GameState.DialogButtons.appendChild(r);GameState.DialogType="Number"}function BuildColorHint(){var t,r,n,i,u;for(GameState.Descriprion.innerText="Pick color for "+info.NickById[info.Table.Seats[GameState.DialogPlayer]],t=document.createElement("div"),t.setAttribute("class","btn-group-gorizontal"),r=5,info.Table.Game.CurrentGameType==1&&(r=6),n=0;n<r;n++)i=CreateButton(GetStringSuit[n]),i.appendChild(GetSuit(n)),i.onclick=CreateNiceFun(GetHintColorEvent,n),t.appendChild(i);GameState.DialogButtons.innerHTML="";GameState.DialogButtons.appendChild(t);u=CreateButton("Back");u.onclick=DialogBackEvent;GameState.DialogButtons.appendChild(u);GameState.DialogType="Color"}function BuildPickTypeHint(){var t,n,i;GameState.Descriprion.innerText="Pick type of hint";t=document.createElement("div");t.setAttribute("class","btn-group-gorizontal");n=CreateButton("Color");n.onclick=PickColorEvent;t.appendChild(n);n=CreateButton("Number");n.onclick=PickNumberEvent;t.appendChild(n);GameState.DialogButtons.innerHTML="";GameState.DialogButtons.appendChild(t);i=CreateButton("Back");i.onclick=DialogBackEvent;GameState.DialogButtons.appendChild(i);GameState.DialogType="Type"}function BuildPickPlayerForHint(){var n,t,i,r,u;for(GameState.Descriprion.innerText="Pick player for hint",n=document.createElement("div"),n.setAttribute("class","btn-group-gorizontal"),t=0;t<info.Table.Seats.length-1;++t)i=(t+GameState.YouSeat+1)%info.Table.Seats.length,r=CreateButton(info.NickById[info.Table.Seats[i]]),r.onclick=CreateNiceFun(PickPlayerEvent,i),n.appendChild(r);GameState.DialogButtons.innerHTML="";GameState.DialogButtons.appendChild(n);u=CreateButton("Back");u.onclick=DialogBackEvent;GameState.DialogButtons.appendChild(u);GameState.DialogType="Player"}function BuildPickTurn(){var t,n;GameState.Descriprion.innerText="Pick type of turn";t=document.createElement("div");t.setAttribute("class","btn-group-vertical");info.Table.Game.CountHints>0&&(n=CreateButton("Get hint"),n.onclick=PickHintEvent,t.appendChild(n));info.Table.Game.CountHints!=8&&(n=CreateButton("Drop card"),n.onclick=PickDropEvent,t.appendChild(n));n=CreateButton("Lay card");n.onclick=PickLayEvent;t.appendChild(n);GameState.DialogButtons.innerHTML="";GameState.DialogButtons.appendChild(t);GameState.DialogType="Turn"}function BuildLogIn(n){var i,t;MainDiv.innerHTML=`
        <form class ="Center" id="Form">
            <div class="form-group">
                <label class="control-label" id="NickLabel">Nick:</label>
                <input type="text" class="form-control" id="nick" placeholder="Your nick"></input>
            </div>
            <div class="form-group">
                <label class ="control-label">Password: </label>
                <input type="password" class="form-control" id="pswd" placeholder="Password"></input>
            </div>
            <p id = "ErrorP" class ="text-danger" style="display:none">Incorrect nick/name or password</p>
            <button type="button" class="btn btn-success" id="LogInButton">Log In</button>
    	<button type="button" class="btn pull-right" id="back" style="width:49%; display:none">Back</button></form>`;LogInState.SubmitButton=document.getElementById("LogInButton");LogInState.SubmitButton.onclick=LogInEvent;LogInState.InputNick=document.getElementById("nick");n!="Player"&&(LogInState.InputNick.setAttribute("placeholder","Table's name"),i=document.getElementById("NickLabel"),i.innerText="Table:",t=document.getElementById("back"),t.setAttribute("style",style="width:49%;"),t.onclick=BackEvent,PickTableState.Type=="Create"?LogInState.SubmitButton.innerText="Create":PickTableState.Type=="Join"&&(LogInState.SubmitButton.innerText="Join"));LogInState.InputPassword=document.getElementById("pswd");LogInState.Form=document.getElementById("Form");LogInState.P=document.getElementById("ErrorP")}function BuildPickTable(){MainDiv.innerHTML=`
      <div class = "row">
      <div class = "col-xs-9"></div>
      <div class = "col-xs-2"><button class = "btn btn-success"><div id="CurNick" style = "font-weight:bold"></div></button>
      </div>
      <div class = "col-xs-1"></div>

      </div>
    <div style = "width: 100%;height: 65%; position:absolute; top: 35%">
    <div class = "row">
        <div class = "col-sm-4"></div>
        <div class = "col-sm-4">
        <div class = "button-group-vertical">
        <button type = "button" id="btnCreate" class = "btn btn-primary btn-block btn-lg">
            Create new table
        </button>
        <button class = "btn btn-primary btn-block btn-lg" id ="btnJoin">
            Join to exist table
        </button>
        </div>
        </div>
        <div class = "col-sm-4"></div>
    </div>
    </div>`;PickTableState.CreateButton=document.getElementById("btnCreate");PickTableState.CreateButton.onclick=CreateTableEvent;PickTableState.JoinButton=document.getElementById("btnJoin");PickTableState.JoinButton.onclick=JoinTableEvent;document.getElementById("CurNick").innerText="Now play: "+PlayerNick}function BuildPrepare(){var t,i,n,r,u,f;if(PrepState.OldPlayersList=[],PrepState.OldSeats=[],MainDiv.innerHTML=`
      <div class = "MainInf">
        <div style="height:50vh">
		  <div style="background: #e8eee0; border-radius: 10px 10px 0px 0px;">
              <div id = "PlList" style = "vertical-align: bottom; overflow: auto; height: 50vh">
              </div>              
          </div>
        </div>
          <div style="clear: both;"></div>
        <div>
         <div id="Adm">
		   <div class="dropdown">
			<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Game type
			  <span class="caret"></span></button>
				<ul class="dropdown-menu" id="GtL">
				  <li><a href="#"></a></li>
			      <li><a href="#"></a></li>
				  <li><a href="#"></a></li>
				</ul>
			</div>
		    <div class="dropdown">
			<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Count of seats
			  <span class="caret"></span></button>
				<ul class="dropdown-menu" id="CntPlL">
				  <li><a href="#"></a></li>
			      <li><a href="#"></a></li>
				  <li><a href="#"></a></li>
				</ul>
			</div>
           <button class="btn btn-success" type="button" id="Start">Start game</button> 
		 </div>
		 <div id="Records">
          <div style="display:inline-block">
			<p style="color=red">Game type:</p>
			<p id="GtP" style="font-size=900; color=red"></p>
	        <button class="btn btn-warning" type="button" id="Leave">Leave table</button> 
	      </div>
        </div>
		</div>
      </div>
      <div class="Games">
        <div class="Chairs">
          <div class="PlayGame">
            <table><tbody>
                <tr id="Pl1">
                </tr></tbody></table>
            <table><tbody>
              <tr id="Pl2">
              </tr></tbody></table>
		  </div>
        </div>
      </div>
  </body>
</html>`,PrepState.PlayersList=document.getElementById("PlList"),info.Table.IdAdmin==PlayerId){for(PrepState.IsAdmin=!0,t=document.getElementById("GtL"),n=0;n<3;++n)t.children[n].children[0].onclick=CreateNiceFun(ChangeGameModeEvent,n),t.children[n].children[0].innerText=GameTypeString[n];for(i=document.getElementById("CntPlL"),n=0;n<3;++n)i.children[n].children[0].onclick=CreateNiceFun(ChangeSeatsEvent,n+3),i.children[n].children[0].innerText=n+3;r=document.getElementById("Start");r.onclick=StartGameEvent}else PrepState.IsAdmin=!1,u=document.getElementById("Adm"),u.setAttribute("style","display:none");f=document.getElementById("Leave");f.onclick=LeaveEvent;PrepState.GameTypeP=document.getElementById("GtP");PrepState.Seats=[]}function BuildPlayer(n){var i=document.createElement("td"),r=CreateElementP(info.NickById[info.Table.Seats[n]]),t,u,f;for(r.setAttribute("class","Name"),i.appendChild(r),t=document.createElement("div"),t.setAttribute("style","width:100%;"),u=0;u<5;++u)f=CreateElementP(""),f.setAttribute("style","diplay:none;"),t.appendChild(f);return i.appendChild(t),GameState.PlayersCards[n]=t,GameState.PlayersNick[n]=r,GameState.OldCards[n]=[],i}function BuildGame(){var u,i,t,r,n,f;for(GameState.StoryLen=0,GameState.DropLen=0,MainDiv.innerHTML=`
      <div class = "MainInf">
        <div style="height:50vh">
          <div class="tab-content"style="background: #e8eee0; border-radius: 10px 10px 0px 0px;">
              <div id = "History" class="tab-pane fade in active" style = "vertical-align: bottom; overflow: auto; height: 50vh">
              </div>
              <div id="DropCrt" class="tab-pane fade" style = "vertical-align: bottom; overflow: auto; height: 50vh">
              </div>
          </div>
          <ul class="nav nav-tabs" style="border-bottom: 1px solid #ddd;
    border-bottom-width: 1px;
    border-bottom-style: solid;
    border-bottom-color: rgb(221, 221, 221);
    margin-bottom: 1vh; display: block;">
            <li class="active" style="display: block;"><a data-toggle = "tab" href = "#History" >History</a></li>
            <li style="display: block;" ><a data-toggle = "tab" href = "#DropCrt">Dropped cards</a></li>
          </ul></div>
          <div style="clear: both;"></div>
        <div>
		  <div class="mobileDesc">
			<p class="desc" id=Desk></p>
		  </div>
          <div class="btn-group" id="Btns">
		  </div>
        <div id="Records">
          <div style="display:inline-block;">
			<p>Score:</p>
			<p id="Score"> 0 </p>
		  </div>
		  <div style="display:inline-block;">
			<p>Deck:</p>
			<p id="Deck"> 0 </p>
		  </div>
		  <div style="display:inline-block;">
		    <p>Falls:</p>
			<p id="falls">0</p>
		  </div>
		  <div style="display:inline-block">
				<p>Hints:</p>
				<p id="Hints">8</p>
		  </div>
		  <div style="display:inline-block;">
			<p id="EndDesc"></p>
		  </div>
        </div>
       </div>
      </div>
      <div class="Games">
        <div class="Chairs">
          <div class="PlayGame">
            <table><tbody>
                <tr id="Pl1">
                </tr></tbody></table>
            <table><tbody>
              <tr id="Pl2">
              </tr></tbody></table>
		  </div>
        </div>
        <div class="Table">
          <h2>Table</h2>
          <table>
            <tr id="TableResult">
            </tr>
          </table>
        </div>
        <div style="position:relative;height:5vh">
          <button id="EndGame" class="btn btn-warning" style="position:absolute; right:0;bottom:0">Stop Game</button>
        </div>
      </div>
  </body>
</html>`,GameState.ScroeP=document.getElementById("Score"),GameState.FallsP=document.getElementById("falls"),GameState.HintsP=document.getElementById("Hints"),GameState.History=document.getElementById("History"),GameState.Drops=document.getElementById("DropCrt"),u=document.getElementById("TableResult"),GameState.Table=[],GameState.OldTable=[],n=0;n<info.Table.Game.Table.length;n++)t=document.createElement("td"),i=GetCard(n,0),i.setAttribute("class",i.getAttribute("class")+" DisActive"),t.appendChild(GetCard(n,0)),u.appendChild(t),GameState.Table[n]=t;for(GameState.YouSeat=0;info.Table.Seats[GameState.YouSeat]!=PlayerId;)++GameState.YouSeat;for(GameState.PlayersNick=[],GameState.PlayersCards=[],GameState.OldCards=[],t=document.getElementById("Pl1"),r=MyDiv(info.Table.Players.length+1,2),n=0;n<r;n++)t.appendChild(BuildPlayer(n));for(t=document.getElementById("Pl2"),n=r;n<info.Table.Players.length;n++)t.appendChild(BuildPlayer(n));info.Table.IdAdmin==PlayerId?(GameState.EndGameButton=document.getElementById("EndGame"),GameState.EndGameButton.onclick=EndGameEvent):(f=document.getElementById("EndGame"),f.setAttribute("style","display:none"),GameState.EndGameButton=null);GameState.DialogType="None";GameState.DialogButtons=document.getElementById("Btns");GameState.Descriprion=document.getElementById("Desk");GameState.CardsInDeck=document.getElementById("Deck")}function ClearMainDiv(){while(MainDiv.childElementCount>0)MainDiv.lastChild.remove()}function CreateElementP(n){var t=document.createElement("p");return t.innerText=n,t}function GetSuit(n){var i="glyphicon glyphicon-",r=["cloud","heart","tint","fire","leaf","star"],t;return r[-1]="eye-close",i+=r[n],t=document.createElement("i"),t.setAttribute("class",i),t}function GetCard(n,t){var i=document.createElement("p"),r;return t>=0?i.innerText=t:i.innerHTML="?",i.appendChild(GetSuit(n)),r=["Viol","Red","Blue","Orange","Green","RB"],r[-1]="UnKn",i.setAttribute("class",r[n]),i}function AddToDrop(n,t){var i=GetCard(n,t);GameState.Drops.appendChild(i)}function CreateButton(n){var t=document.createElement("button");return t.setAttribute("class","btn btn-success"),t.setAttribute("type","button"),t.innerText=n,t}function CreateNiceFun(n,t){var i=function(t){var i=t;return function(){n(i)}};return i(t)}function MyDiv(n,t){return(n-n%t)/t}function GetHTML(n){var t,i,r=document.createElement("div");return r.appendChild(n.cloneNode(!1)),t=r.innerHTML,i=t.indexOf(">")+1,t=t.substring(0,i)+n.innerHTML+t.substring(i),r=null,t}window.onload=init;$.post=function(n,t,i,r){return jQuery.ajax({headers:{Accept:"application/json","Content-Type":"application/"+r},type:"POST",url:n,data:JSON.stringify(t),dataType:r,success:i})};$.get=function(n,t,i){return jQuery.ajax({type:"GET",url:n,data:t,response:"xml",success:i})};